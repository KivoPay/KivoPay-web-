<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KivoPay Store ‚Äî Aplikasi Premium</title>
  <style>
    :root{
      --bg:#060a14;
      --card:rgba(255,255,255,.07);
      --card2:rgba(255,255,255,.10);
      --b:rgba(255,255,255,.12);
      --t:#eaf0ff;
      --m:#aeb9d6;
      --a:#6ea8fe;
      --g:#7cffb2;
      --r:18px;
      --shadow:0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--t);
      background:var(--bg);
      min-height:100vh;
      overflow-x:hidden;
    }

    /* animated background */
    .bgfx{
      position:fixed; inset:0; z-index:-2;
      background:
        radial-gradient(900px 520px at 10% 10%, rgba(110,168,254,.20), transparent 55%),
        radial-gradient(800px 520px at 90% 20%, rgba(124,255,178,.12), transparent 55%),
        radial-gradient(900px 520px at 60% 90%, rgba(180,120,255,.10), transparent 55%),
        linear-gradient(180deg,#050914 0%, #040712 100%);
      filter:saturate(1.05);
    }
    .blob{
      position:fixed; z-index:-1; inset:auto;
      width:380px; height:380px; border-radius:999px;
      background:radial-gradient(circle at 30% 30%, rgba(110,168,254,.35), transparent 55%),
                 radial-gradient(circle at 70% 70%, rgba(124,255,178,.22), transparent 55%);
      filter:blur(18px);
      opacity:.7;
      animation: floaty 10s ease-in-out infinite;
    }
    .blob.b1{left:-120px; top:120px; animation-duration:12s}
    .blob.b2{right:-140px; top:380px; animation-duration:14s}
    .blob.b3{left:20%; bottom:-180px; animation-duration:16s}
    @keyframes floaty{
      0%,100%{transform:translate(0,0) scale(1)}
      50%{transform:translate(30px,-24px) scale(1.05)}
    }

    header{
      position:sticky; top:0; z-index:10;
      background:rgba(7,10,18,.66);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .wrap{max-width:1050px; margin:0 auto; padding:14px 14px 90px}
    .topbar{display:flex; align-items:center; gap:12px; padding:12px 0}
    .logo{
      width:42px; height:42px; border-radius:14px;
      display:grid; place-items:center;
      background:linear-gradient(135deg, rgba(110,168,254,.95), rgba(124,255,178,.55));
      box-shadow:0 10px 30px rgba(110,168,254,.18);
      font-weight:900;
    }
    .brand{min-width:0}
    .brand b{display:block; font-size:15px; letter-spacing:.2px}
    .brand span{display:block; color:var(--m); font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .right{margin-left:auto; display:flex; gap:10px; align-items:center}
    .pill{
      display:flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      background:rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.10);
      color:var(--m);
      font-size:12px;
    }
    .dot{width:8px; height:8px; border-radius:50%; background:var(--g); box-shadow:0 0 18px rgba(124,255,178,.45)}
    .btn{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      color:var(--t);
      padding:10px 12px;
      border-radius:14px;
      font-weight:650;
      cursor:pointer;
      transition:.12s ease;
      user-select:none;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.10)}
    .btn.primary{
      border-color: rgba(110,168,254,.38);
      background: linear-gradient(135deg, rgba(110,168,254,.95), rgba(110,168,254,.35));
      box-shadow:0 14px 40px rgba(110,168,254,.18);
    }
    .btn.red{
      border-color: rgba(255,110,110,.30);
      background: rgba(255,110,110,.12);
    }

    .hero{
      margin-top:14px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.10);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      padding:16px;
    }
    .hTitle{font-size:18px; margin:0 0 6px}
    .typingRow{display:flex; align-items:center; gap:10px; color:var(--m); font-size:13px}
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.06);
      margin-top:12px;
      margin-right:8px;
      font-size:12px;
      color:var(--m);
    }
    .caret{opacity:1; animation: blink 1s steps(2,end) infinite}
    @keyframes blink{50%{opacity:0}}
    .searchRow{
      display:flex; gap:10px; margin-top:12px;
    }
    input, textarea, select{
      width:100%;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--t);
      padding:12px 12px;
      border-radius:14px;
      outline:none;
      font-size:14px;
    }
    input::placeholder, textarea::placeholder{color:rgba(174,185,214,.7)}
    .hint{
      margin-top:10px;
      color:rgba(174,185,214,.85);
      font-size:12.5px;
      line-height:1.45;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
      margin-top:14px;
    }
    @media (min-width:900px){
      .grid{grid-template-columns: repeat(4, minmax(0,1fr))}
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      transition:.12s ease;
    }
    .card:hover{transform:translateY(-2px)}
    .thumb{
      height:120px;
      background:rgba(255,255,255,.04);
      display:grid; place-items:center;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .thumb img{
      width:100%; height:100%;
      object-fit:cover;
    }
    .cBody{padding:12px}
    .cName{font-weight:800; margin:0 0 6px; font-size:14px}
    .cPrice{color:var(--g); font-weight:850; margin:0 0 10px}
    .cBtnRow{display:flex; gap:10px}
    .btn.small{padding:10px 12px; border-radius:14px; font-size:13px; width:100%}

    /* Modal */
    .modal{
      position:fixed; inset:0; z-index:50;
      display:none;
      align-items:flex-end;
      justify-content:center;
      background:rgba(0,0,0,.55);
      padding:12px;
    }
    .modal.show{display:flex}
    .sheet{
      width:min(760px, 100%);
      background:rgba(10,14,24,.92);
      border:1px solid rgba(255,255,255,.10);
      border-radius:22px;
      box-shadow:0 26px 80px rgba(0,0,0,.65);
      overflow:hidden;
      animation: pop .16s ease;
    }
    @keyframes pop{from{transform:translateY(12px); opacity:.7}to{transform:translateY(0); opacity:1}}
    .sheetTop{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .sheetTop b{font-size:14px}
    .closeX{
      width:40px; height:40px; border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--t);
      cursor:pointer;
    }
    .sheetBody{padding:14px}
    .sumRow{
      display:flex; gap:10px; align-items:center;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:12px;
      margin-bottom:12px;
    }
    .sumRow .meta{min-width:0}
    .sumRow .meta b{display:block}
    .sumRow .meta span{display:block; color:var(--m); font-size:12px; margin-top:2px}
    .sumRow .price{margin-left:auto; font-weight:900}
    .segTitle{font-size:13px; color:var(--m); margin:12px 0 8px}
    .variants{display:flex; flex-wrap:wrap; gap:10px}
    .vBtn{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--t);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
    }
    .vBtn.active{
      border-color: rgba(110,168,254,.45);
      background: rgba(110,168,254,.14);
      box-shadow:0 10px 30px rgba(110,168,254,.16);
    }
    .formGrid{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:10px;
    }
    .payPick{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .pay{
      display:flex; gap:10px; align-items:center;
      padding:12px;
      border-radius:16px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      cursor:pointer;
      user-select:none;
    }
    .pay.active{
      border-color: rgba(124,255,178,.35);
      background: rgba(124,255,178,.10);
    }
    .pay img{
      width:34px; height:34px; border-radius:10px;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
      object-fit:cover;
    }
    .pay b{display:block}
    .pay span{display:block; font-size:12px; color:var(--m); margin-top:2px}
    .payInfo{
      margin-top:10px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:12px;
      color:var(--m);
      font-size:12.5px;
      line-height:1.45;
    }
    .qrisBox{
      margin-top:10px;
      padding:12px;
      border-radius:16px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
    }
    .qrisShow{
      width:100%;
      border:1px solid rgba(110,168,254,.35);
      background: rgba(110,168,254,.14);
      color:var(--t);
      padding:12px 14px;
      border-radius:14px;
      font-weight:800;
      cursor:pointer;
    }
    .actions{
      display:flex; gap:10px; margin-top:12px;
    }
    .actions .btn{width:100%}

    /* QRIS Modal */
    .modalQris{
      position:fixed; inset:0; z-index:80;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.60);
      padding:14px;
    }
    .modalQris.show{display:flex}
    .modalCard{
      width:min(520px, 100%);
      background:rgba(10,14,24,.95);
      border:1px solid rgba(255,255,255,.12);
      border-radius:22px;
      box-shadow:0 26px 80px rgba(0,0,0,.65);
      overflow:hidden;
    }
    .modalTop{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .modalClose{
      width:40px; height:40px; border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--t);
      cursor:pointer;
    }
    .modalBody{padding:14px}
    .qrImg{
      width:100%;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background:#fff;
      display:block;
    }
    .modalFoot{padding:12px 14px; border-top:1px solid rgba(255,255,255,.08)}
    .btnRed{
      width:100%;
      border:1px solid rgba(255,110,110,.30);
      background:rgba(255,110,110,.14);
      color:var(--t);
      padding:12px 14px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
    }

    .muted{color:rgba(174,185,214,.85)}
  </style>
</head>
<body>
  <div class="bgfx"></div>
  <div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div>

  <header>
    <div class="wrap" style="padding-bottom:12px">
      <div class="topbar">
        <div class="logo">K</div>
        <div class="brand">
          <b>KivoPay Store</b>
          <span>Aplikasi Premium ‚Ä¢ Order manual via WhatsApp Admin</span>
        </div>
        <div class="right">
          <div class="pill"><span class="dot"></span>Ready</div>
        </div>
      </div>

      <div class="hero">
        <h2 class="hTitle">Aplikasi Premium (Lengkap)</h2>
        <div class="typingRow">
          <span id="typingText"></span><span class="caret">|</span>
        </div>
        <div>
          <span class="chip">‚ú® Harga transparan</span>
          <span class="chip">‚ö° Order via WhatsApp</span>
          <span class="chip">üõ°Ô∏è Aman & rapi</span>
        </div>

        <div class="searchRow">
          <input id="q" placeholder="Cari produk... (contoh: Netflix, Canva, Remini)" />
          <button class="btn" id="btnReset" type="button">Reset</button>
        </div>
        <div class="hint">
          Cara order: <b>Klik Pesan</b> ‚Üí pilih paket ‚Üí isi <b>Nama</b> & <b>WhatsApp</b> ‚Üí pilih pembayaran ‚Üí klik <b>Order ke WhatsApp Admin</b>.
        </div>
      </div>
    </div>
  </header>

  <main class="wrap" style="padding-top:0">
    <div class="grid" id="grid"></div>
  </main>

  <!-- MODAL: ORDER -->
  <div class="modal" id="ovOrder" onclick="closeOrder()">
    <div class="sheet" onclick="event.stopPropagation()">
      <div class="sheetTop">
        <b>Checkout</b>
        <button class="closeX" onclick="closeOrder()">‚úï</button>
      </div>
      <div class="sheetBody">
        <div class="sumRow">
          <div class="meta">
            <b id="sumProd">-</b>
            <span id="sumVar">-</span>
          </div>
          <div class="price" id="sumPrice">Rp -</div>
        </div>

        <div class="segTitle">Pilih paket</div>
        <div class="variants" id="varBox"></div>

        <div class="segTitle">Format orderan</div>
        <div class="formGrid">
          <input id="inpName" placeholder="Nama kamu (wajib)" />
          <input id="inpWa" placeholder="Nomor WhatsApp (wajib) contoh: 628xxxxxxxxxx" inputmode="numeric" />
          <textarea id="note" placeholder="Catatan (opsional)" rows="2"></textarea>
        </div>

        <div class="segTitle">Pilih pembayaran</div>
        <div class="payPick" id="payPick"></div>

        <div class="payInfo" id="payInfo"></div>

        <div class="actions">
          <button class="btn" type="button" onclick="copyText()">Salin Teks</button>
          <button class="btn primary" id="btnOrder" type="button">Order ke WhatsApp Admin</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL: SHOW QRIS -->
  <div class="modalQris" id="modalQris" onclick="closeQris()">
    <div class="modalCard" onclick="event.stopPropagation()">
      <div class="modalTop">
        <b>SHOW QRIS</b>
        <button class="modalClose" onclick="closeQris()">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="muted" style="text-align:center;margin-bottom:10px">SCAN QRIS BERIKUT</div>
        <img class="qrImg" id="qrisImg"
             src="https://images.bukaolshop.com/hosting/181218/cce817858ef1663896.png"
             alt="QRIS">
        <div class="muted" style="text-align:center;margin-top:10px">
          Jumlah bayar: <b id="qrisAmount">Rp -</b>
        </div>
      </div>
      <div class="modalFoot">
        <button class="btnRed" onclick="closeQris()">Tutup</button>
      </div>
    </div>
  </div>

  <script>
    // ====== CONFIG ======
    const ADMIN_WA = "6287753513090"; // admin WA (tanpa +)
    const PAY = {
      dana:{
        key:"dana",
        name:"Dana",
        info:"087753513090 ‚Ä¢ A/N Kamxxx",
        img:"https://images.bukaolshop.com/hosting/181218/f2f4904ff62a785161.png"
      },
      sea:{
        key:"sea",
        name:"SeaBank",
        info:"901517870612 ‚Ä¢ A/N Kamxxx",
        img:"https://images.bukaolshop.com/hosting/181218/0d46bd2ba133491753.png"
      },
      qris:{
        key:"qris",
        name:"QRIS",
        info:"Scan QRIS (gambar)",
        img:"https://images.bukaolshop.com/hosting/181218/cce817858ef1663896.png"
      }
    };
  // ====== DATA: PRODUK + PNG ======
    const products = [
      {name:"Alight Motion Premium", img:"https://images.bukaolshop.com/hosting/181218/4a04b8d7e542788237.png",
        variants:[{label:"Private Akun 1 Tahun", price:9600}]},

      {name:"Prime Video", img:"https://images.bukaolshop.com/hosting/181218/ad8345f7b9c8953792.png",
        variants:[{label:"Shared 1 Bulan", price:6700},{label:"Private 1 Bulan", price:15300}]},

      {name:"Bstation Premium", img:"https://images.bukaolshop.com/hosting/181218/8a64287f1e0d26389.png",
        variants:[{label:"Akun Shared 3 Bulan", price:13300},{label:"Akun Private 1 Bulan", price:25300},{label:"Akun Private 2 Bulan", price:40300}]},

      {name:"Canva Pro Premium", img:"https://images.bukaolshop.com/hosting/181218/fc56c689cb9f975773.png",
        variants:[{label:"Canva Anggota 2 Bulan", price:5600},{label:"Canva Pro Desainer 1 Bulan", price:5500},{label:"Canva Education 1 Tahun", price:16500}]},

      {name:"Capcut Pro Premium", img:"https://images.bukaolshop.com/hosting/181218/47f862f5ed4a892435.png",
        variants:[{label:"Private Akun 1 Bulan Gar 7h", price:11300},{label:"Private Akun 1 Bulan Gar 28h", price:20300}]},

      {name:"ChatGpt Premium", img:"https://images.bukaolshop.com/hosting/181218/26f804d66e6e88158.png",
        variants:[{label:"Member Plan 1 Bulan Private", price:25700},{label:"Owner Business Plan 1 Bulan", price:84300},{label:"Plus Plan 1 Bulan Private", price:20300},{label:"Plus Plan 1 Bulan Private (Varian 2)", price:30500}]},

      {name:"IQIYI Premium", img:"https://images.bukaolshop.com/hosting/181218/891f9cc79330873789.png",
        variants:[{label:"Iqiyi Premium 1 Bulan Shared", price:15300},{label:"Iqiyi Premium 1 Bulan Shared 2 Devices", price:23500}]},

      {name:"Vidio Premium", img:"https://images.bukaolshop.com/hosting/181218/1174d76c8ed6103972.png",
        variants:[{label:"Shared 1 Bulan 2 User Mobile", price:18800},{label:"Private 1 Bulan Khusus Mobile", price:32400}]},

      {name:"Vision+ Premium", img:"https://images.bukaolshop.com/hosting/181218/072f4a242c47628279.png",
        variants:[{label:"Private Akun 1 Bulan All Screen", price:30000}]},

      {name:"Viu Premium", img:"https://images.bukaolshop.com/hosting/181218/e185c3b3935534665.png",
        variants:[{label:"Private 3 Bulan 1 Device", price:7000},{label:"Private 6 Bulan 1 Device", price:8600}]},

      {name:"Wetv Premium", img:"https://images.bukaolshop.com/hosting/181218/9639c4484b80226918.png",
        variants:[{label:"Wetv Premium 1 Bulan Shared", price:13600},{label:"Wetv Premium 1 Bulan Private", price:35300}]},

      {name:"YouTube Premium", img:"https://images.bukaolshop.com/hosting/181218/e1b9eae8982d985428.png",
        variants:[{label:"Anggota Family Plan 1 Bulan Invited", price:8300}]},

      {name:"Netflix Premium", img:"https://images.bukaolshop.com/hosting/181218/e97361a0f1be36831.png",
        variants:[{label:"Sharing 1 Bulan 1p1u", price:32000},{label:"Sharing 1 Bulan 1p2u", price:26300},{label:"Private 1 Bulan", price:200000}]},

      {name:"Remini Premium", img:"https://images.bukaolshop.com/hosting/181218/e0211889cbb1648699.png",
        variants:[{label:"Sharing 1 Bulan", price:16400},{label:"Private 1 Bulan", price:25300},{label:"Private 1 Tahun", price:35300}]},

      {name:"Disney Premium", img:"https://images.bukaolshop.com/hosting/181218/db9934847fa6433172.png",
        variants:[{label:"Shared 1 User 1 Bulan", price:25300},{label:"Shared 6 User 1 Bulan", price:32300}]},

      {name:"Spotify Premium", img:"https://images.bukaolshop.com/hosting/181218/ff232ca6b143229137.png",
        variants:[{label:"Famplan 1 Bulan", price:19300},{label:"Indplan 1 Bulan", price:26300},{label:"Famplan 2 Bulan", price:30300}]}
    ];

    // ====== UTIL ======
    const $ = (id)=>document.getElementById(id);
    const rupiah = (n)=> "Rp " + (n||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");
    const toast = (msg)=>{ alert(msg); };

    // ====== RENDER GRID ======
    let filtered = [...products];
    function renderGrid(){
      const g = $("grid");
      g.innerHTML = filtered.map((p,i)=>`
        <div class="card">
          <div class="thumb"><img src="${p.img}" alt="${p.name}"></div>
          <div class="cBody">
            <p class="cName">${p.name}</p>
            <p class="cPrice">Mulai ${rupiah(minPrice(p))}</p>
            <div class="cBtnRow">
              <button class="btn small primary" onclick="openOrder(${i})">Pesan</button>
            </div>
          </div>
        </div>
      `).join("");
    }
    function minPrice(p){
      return Math.min(...p.variants.map(v=>v.price));
    }

    // ====== ORDER FLOW ======
    let selProd = null;
    let selVarIndex = 0;
    let payMethod = "qris";

    function openOrder(idx){
      selProd = filtered[idx];
      selVarIndex = 0;
      payMethod = "qris";

      $("sumProd").textContent = selProd.name;
      $("varBox").innerHTML = selProd.variants.map((v,vi)=>`
        <button class="vBtn ${vi===0?'active':''}" onclick="pickVar(${vi})">
          ${v.label} ‚Ä¢ ${rupiah(v.price)}
        </button>
      `).join("");

      $("inpName").value = "";
      $("inpWa").value = "";
      $("note").value = "";

      renderPayPick();
      pickVar(0);
      show("ovOrder");
    }

    function pickVar(vi){
      selVarIndex = vi;
      [...$("varBox").children].forEach((el,i)=>el.classList.toggle("active", i===vi));
      const v = selProd.variants[selVarIndex];
      $("sumVar").textContent = v.label;
      $("sumPrice").textContent = rupiah(v.price);
      $("qrisAmount").textContent = rupiah(v.price);
      setPay(payMethod,true);
      $("btnOrder").onclick = ()=>orderToAdmin();
    }

    function renderPayPick(){
      const keys = ["dana","sea","qris"];
      $("payPick").innerHTML = keys.map(k=>{
        const p = PAY[k];
        return `
          <div class="pay ${k===payMethod?'active':''}" onclick="setPay('${k}')">
            <img src="${p.img}" alt="">
            <div>
              <b>${p.name}</b>
              <span>${p.info}</span>
            </div>
          </div>
        `;
      }).join("");
      renderPayInfo();
    }

    function setPay(k, silent=false){
      payMethod = k;
      [...document.querySelectorAll(".pay")].forEach(el=>el.classList.remove("active"));
      // re-render pick to set active easily
      renderPayPick();

      renderPayInfo();
      if(!silent) toast("Metode dipilih ‚úÖ");
    }

    function renderPayInfo(){
      const p = PAY[payMethod];
      if(payMethod==="dana"){
        $("payInfo").innerHTML = `
          <b>Pembayaran via Dana</b><br>
          <span class="muted">${p.info}</span><br>
          Transfer sesuai nominal, lalu klik <b>Order ke WhatsApp Admin</b> untuk kirim format.
        `;
      }else if(payMethod==="sea"){
        $("payInfo").innerHTML = `
          <b>Pembayaran via SeaBank</b><br>
          <span class="muted">${p.info}</span><br>
          Transfer sesuai nominal, lalu klik <b>Order ke WhatsApp Admin</b> untuk kirim format.
        `;
      }else{
        $("payInfo").innerHTML = `
          <b>Pembayaran via QRIS</b><br>
          <span class="muted">Scan QRIS, bayar sesuai nominal, lalu kirim bukti ke admin.</span>
          <div class="qrisBox">
            <button class="qrisShow" type="button" onclick="openQris()">Tampilkan QRIS üëÅ</button>
          </div>
        `;
        $("qrisImg").src = PAY.qris.img;
      }
    }

    function openQris(){
      const v = selProd?.variants?.[selVarIndex];
      $("qrisAmount").textContent = rupiah(v?.price || 0);
      show("modalQris");
    }
    function closeQris(){ hide("modalQris"); }

    function buildOrderText(){
      const name = $("inpName").value.trim();
      const wa = $("inpWa").value.trim();
      if(!name || !wa) return null;

      const v = selProd.variants[selVarIndex];
      const methodLabel = (payMethod==="dana"?"Dana":payMethod==="sea"?"SeaBank":"QRIS");
      const note = $("note").value.trim();

      return [
        `Halo Admin KivoPay, saya mau order:`,
        ``,
        `Nama: ${name}`,
        `WhatsApp: ${wa}`,
        ``,
        `Produk: ${selProd.name}`,
        `Paket: ${v.label}`,
        `Harga: ${rupiah(v.price)}`,
        `Metode Bayar: ${methodLabel}`,
        note?`Catatan: ${note}`:null,
        ``,
        `Mohon diproses ya kak üôè`
      ].filter(Boolean).join("\n");
    }

    function orderToAdmin(){
      const name = $("inpName").value.trim();
      const wa = $("inpWa").value.trim();
      if(!name || !wa){ toast("Isi Nama & WhatsApp dulu."); return; }

      const text = buildOrderText();
      const url = `https://wa.me/${ADMIN_WA}?text=${encodeURIComponent(text)}`;
      window.open(url, "_blank");
    }

    function copyText(){
      const text = buildOrderText();
      if(!text){ toast("Isi Nama & WhatsApp dulu."); return; }
      navigator.clipboard.writeText(text).then(()=>toast("Teks order disalin ‚úÖ")).catch(()=>toast("Gagal salin"));
    }

    // ====== MODAL HELPERS ======
    function show(id){ $(id).classList.add("show"); }
    function hide(id){ $(id).classList.remove("show"); }
    function closeOrder(){ hide("ovOrder"); }

    // ====== SEARCH ======
    $("q").addEventListener("input", ()=>{
      const s = $("q").value.trim().toLowerCase();
      filtered = products.filter(p=>p.name.toLowerCase().includes(s));
      renderGrid();
    });
    $("btnReset").onclick = ()=>{
      $("q").value = "";
      filtered = [...products];
      renderGrid();
    };

    // ====== TYPING ANIMATION ======
    const typingMsg = "Selamat belanja di KivoPay ‚ú® ‚Ä¢ Klik produk untuk lihat paket & harga ‚Ä¢ Checkout via WhatsApp Admin";
    let tIndex = 0;
    let tForward = true;
    function typeLoop(){
      const el = $("typingText");
      if(!el) return;
      if(tForward){
        tIndex++;
        if(tIndex >= typingMsg.length){ tForward=false; setTimeout(typeLoop, 1000); return; }
      }else{
        tIndex--;
        if(tIndex <= 0){ tForward=true; setTimeout(typeLoop, 300); return; }
      }
      el.textContent = typingMsg.slice(0, tIndex);
      setTimeout(typeLoop, 40);
    }

    // ====== INIT ======
    renderGrid();
    typeLoop();
  </script>
</body>
</html>
